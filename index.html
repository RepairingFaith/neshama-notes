<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Neshama Notes</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 16px;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      text-align: center;
      font-family: serif;
      margin-bottom: 24px;
    }
    .prompt {
      font-size: 1.2rem;
      margin-bottom: 16px;
      text-align: center;
    }
    textarea {
      width: 100%;
      height: 200px;
      padding: 8px;
      font-size: 1rem;
      margin-bottom: 8px;
    }
    .save-status {
      opacity: 0;
      font-size: 0.9rem;
      color: green;
      transition: opacity 0.3s;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Neshama Notes</h1>
  <div class="prompt" id="prompt-text">Loading prompt…</div>
  <textarea id="journal-entry" placeholder="Let your thoughts flow here…"></textarea>
  <div class="save-status" id="save-status">Saved ✓</div>

  <script>
    const prompts = [
      "How has your soul grown through recent challenges?",
      "Where did you find beauty today?",
      "What made you feel light or free recently?",
      "What truth have you been avoiding?",
      "What would you tell your younger self?"
    ];
    const today = new Date();
    const index = today.getDate() % prompts.length;
    const promptText = prompts[index];
    document.getElementById('prompt-text').innerText = promptText;
    const key = 'journal-response-' + index;
    const journalEl = document.getElementById('journal-entry');
    const saveStatus = document.getElementById('save-status');

    const saved = localStorage.getItem(key);
    if (saved) journalEl.value = saved;

    journalEl.addEventListener('input', () => {
      localStorage.setItem(key, journalEl.value);
      saveStatus.style.opacity = 1;
      setTimeout(() => saveStatus.style.opacity = 0, 1500);
    });
  </script>
</body>
</html>
